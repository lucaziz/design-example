/*! design-example 04-10-2018 */

var plugin=function(){"use strict";var t=function(){this.config={target:document.querySelector(".testimonials"),dots:document.querySelector(".testimonials__dots"),transition:{speed:300},autoPlay:!0,autoPlaySpeed:4e3},this.init()};return t.prototype.createDots=function(){for(var e=this,t=0;t<e.totalSlides;t++){var i=document.createElement("li");i.setAttribute("data-pos",t+1),e.config.dots.appendChild(i)}e.config.dots.addEventListener("click",function(t){t.target&&"LI"==t.target.nodeName&&(e.curSlide=t.target.getAttribute("data-pos"),e.gotoSlide())},!1)},t.prototype.getPosLeft=function(){var t=this;t.curLeft=""!=t.sliderWrap.style.left?parseInt(t.sliderWrap.style.left.split("px")[0]):0},t.prototype.gotoSlide=function(){var t=this;t.sliderWrap.style.transition="left "+t.config.transition.speed/1e3+"s ",t.sliderWrap.style.left=-t.curSlide*t.slideW+"px",t.config.target.classList.add("animating"),setTimeout(function(){t.sliderWrap.style.transition="",t.config.target.classList.remove("animating")},t.config.transition.speed),t.setDot(),t.config.target.style.height=t.allSlides[t.curSlide].offsetHeight+"px",clearInterval(t.autoRotate)},t.prototype.setDot=function(){for(var t=this,e=t.curSlide-1,i=0;i<t.totalSlides;i++)t.config.dots.querySelectorAll("li")[i].classList.remove("active");t.curSlide-1<0?e=t.totalSlides-1:t.curSlide-1>t.totalSlides-1&&(e=0),t.config.dots.querySelectorAll("li")[e].classList.add("active")},t.prototype.init=function(){var t,e,i=this;window.addEventListener("resize",(t=function(){i.updateSliderDimension()},onresize=function(){clearTimeout(e),e=setTimeout(t,100)},onresize),!1);var o=i.config.target.innerHTML;i.config.target.innerHTML='<div class="testimonials--wrap">'+o+"</div>",i.allSlides=0,i.curSlide=0,i.curLeft=0,i.totalSlides=i.config.target.querySelectorAll(".testimonials__item").length,i.sliderWrap=i.config.target.querySelector(".testimonials--wrap");var r=i.config.target.querySelectorAll(".testimonials__item")[0].cloneNode(!0);i.sliderWrap.appendChild(r);var l=i.config.target.querySelectorAll(".testimonials__item")[i.totalSlides-1].cloneNode(!0);i.sliderWrap.insertBefore(l,i.sliderWrap.firstChild),i.curSlide++,i.allSlides=i.config.target.querySelectorAll(".testimonials__item"),i.sliderWrap.style.width=100*(i.totalSlides+2)+"%";for(var a=0;a<i.totalSlides+2;a++)i.allSlides[a].style.width=100/(i.totalSlides+2)+"%",i.updateSliderDimension();function s(e,t,i){t.split(" ").forEach(function(t){return e.addEventListener(t,i,!1)})}function n(e,t,i){t.split(" ").forEach(function(t){return e.removeEventListener(t,i,!1)})}function d(t){var e=t;"touchmove"==t.type&&(e=t.targetTouches[0]||t.changedTouches[0]),i.moveX=e.pageX,i.moveY=e.pageY,Math.abs(i.moveX-i.startX)<40||(i.animating=!0,i.config.target.classList.add("animating"),t.preventDefault(),0<i.curLeft+i.moveX-i.startX&&0==i.curLeft?i.curLeft=-i.totalSlides*i.slideW:i.curLeft+i.moveX-i.startX<-(i.totalSlides+1)*i.slideW&&(i.curLeft=-i.slideW),i.sliderWrap.style.left=i.curLeft+i.moveX-i.startX+"px")}function c(t){i.getPosLeft(),0!==Math.abs(i.moveX-i.startX)&&(i.stayAtCur=Math.abs(i.moveX-i.startX)<40||void 0===i.moveX,i.dir=i.startX<i.moveX?"left":"right",i.stayAtCur||("left"==i.dir?i.curSlide--:i.curSlide++,i.curSlide<0?i.curSlide=i.totalSlides:i.curSlide==i.totalSlides+2&&(i.curSlide=1)),i.gotoSlide(),delete i.startX,delete i.startY,delete i.moveX,delete i.moveY,i.animating=!1,i.config.target.classList.remove("animating"),n(i.sliderWrap,"mousemove touchmove",d),n(document.querySelector("body"),"mouseup touchend",c))}i.createDots(),i.setDot(),i.autoRotate=setInterval(function(){i.getPosLeft(),i.curSlide++,i.curSlide<0?i.curSlide=i.totalSlides:i.curSlide==i.totalSlides+1&&(i.curSlide=1),i.gotoSlide(),i.config.target.classList.remove("animating")},i.config.autoPlaySpeed),s(i.sliderWrap,"mousedown touchstart",function(t){var e=t;i.getPosLeft(),i.animating||("touchstart"==t.type&&(e=t.targetTouches[0]||t.changedTouches[0]),i.startX=e.pageX,i.startY=e.pageY,s(i.sliderWrap,"mousemove touchmove",d),s(document.querySelector("body"),"mouseup touchend",c));clearInterval(i.autoRotate)}),i.animating=!1},t.prototype.updateSliderDimension=function(){var t=this;t.slideW=parseInt(t.config.target.querySelectorAll(".testimonials__item")[0].offsetWidth),t.sliderWrap.style.left=-t.slideW*t.curSlide+"px",t.config.target.style.height=t.allSlides[t.curSlide].offsetHeight+"px"},t}(),arctouchslider=new plugin;